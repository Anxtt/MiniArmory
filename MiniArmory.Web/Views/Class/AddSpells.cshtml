@using MiniArmory.Core.Models.Class
@model ClassViewModel

@{
    ViewData["Title"] = "Add spells to class";
}

<form>
    <div class="d-inline-block col-12">
        <h2 class="text-center text-primary">@Model.Name</h2>
        <div style="
    background-image: url('https://assets.worldofwarcraft.com/static/components/Pane/Pane-leather-blue.9de312ba15472b63bc7e9d3f62b64c65.jpg');
    height: 100%;
    width: 100%;">
            <div class="text-center">
                <img src="" alt="Race model" style="width: 15rem; height: 19rem;" />
                <p class="text-light col-12" style="height: 10rem; width: 40rem;">@Model.Description</p>
                <p class="text-light col-12" style="height: 10rem; width: 40rem;">@Model.Name</p>
                <img src="@Model.ClassImage" />
            </div>
        </div>
    </div>

    <div class="d-inline-block">
        <select class="form-control" asp-for="Spells" name="Spells"></select>
    </div>

    <div class="col-4">
        <input asp-route-id="@Model.Id" type="submit" formmethod="post" value="Create" class="btn btn-primary" />
    </div>
</form>

@section Scripts{
<script>
    $(document).ready(function () {
        $.ajax({
            type: "POST",
            dataType: "json",
            url: "/Class/GetSpells",
            success: function (spells)
            {
                var s = '<option value="-1">Spells</option>';
                console.log(spells);
                for (var i = 0; i < spells.length; i++)
                {
                    s += '<option value="' + spells[i].Id + '">' + spells[i].Name + '</option>';
                }
                $("#Spells").html(s);
            }
        })
    });
</script>
}